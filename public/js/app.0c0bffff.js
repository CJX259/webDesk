(function(t){function e(e){for(var a,r,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var h=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"04ee":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADjElEQVRoQ+2Z3U3cQBCAZ8whwb0AL0geP4RUEK6CHBVAKghUkFBBSAWBCnIdBCqAVBBSQeDh1hIvwAucBHiisbxoz7e2d31n6xDsq8fj+WY8P7uL8MIXvnD74XUCXF9fr97d3f0AgB1EXJ1FFBFxKwzDM19dtSIwHA7/IOImANwCwLnvR3PyGwDwjplvFhcXt9bX1730eQPEcbzLzD8B4ISIdqY0HobD4QEifhM9dSDqAPSTJOkHQTAIw/BihgAnALDtC+ENMK3B+fd1BCQHmHkXAD4DwMXy8nJvbW3tpup7VoCrq6vNp6en7aqXXZ6LR4noqEjWBJAkVkoNBIKZz7vd7lYVxASAUkqqy1cX41xlmHkQRdGeTT4PIDI+EGMASilJyl8AcImIBxJKVyNtckmSHCLih+zZERFNOMYGkEEcZzlxHkVRr8iOPEAaPgD4RESiYKqllJK6/lErQcS9MAzlG8+rCCDrNWfigLII5gHSDxLRTJLbANgHAInoSh6iCEAIXSBaAZAKs7CwcPP4+CgOGoMw+so+ER3mQ14F0RpAVmF0jkGn0+lJ143jeIOZ/0m1AoDdIAgmSmeSJDKuDLKxZQy0VQDxrva42bCUUpLcUv2cFiK+1020dYAiiDiO0w6PiP0SinRuMgc/JwAJc1adyjx0ma8wOoltk6YZiSAIei5jiS3hXQH6zHxaEd/fRDTmPd2QikZlpZQk7RfXrjsNwEaSJDKnFK4gCC4sEUj/bWb+HkWRlNGJ5dN1awM4ZZZFSErg/f29dPMV8TIiFg1nOnITUaxqek6/UF0AeU8Gw4eHBymBeqQoVafLq02o9QiYRkg0RqOR7OKsS89NZVvL2gBS4uoksU/kyiqW1vN6AXw8WVe20QjUNcrnvTcA8Zb2Qn4/4DhK+Djca+xoK4l9AGxjR7qZaqqMVo4SPtYXjB3NAfgYV1f2LYnLkriuV33eazQCjqOEj72tJ7HLLDS/AD6W1ZV1+YX05sccuRvfD7gC5QHiOH4+0RMdzCxHMrLDuyQi2aOna24BlFJsgb/tdDp98xZnbgFk9jcBpPktLS0d54/b5xbA9dezApgnX66KppUzcuD51M1F5xiAceF2SERyotzKyjb+p4iIROR1bTsGYB6DZJcbU11weNDrYxXrCXWZnol7gOy0WE7MZnJH5gLBzH/lRqjOpcpMLjJcjGxK5g2gKc+66v0PHDYqXtJ2QzEAAAAASUVORK5CYII="},"16e7":function(t,e,n){},"1db7":function(t,e,n){"use strict";var a=n("5998"),i=n.n(a);i.a},3805:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Home")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"home"},on:{click:t.contentClick}},[n("div",{staticClass:"wrapper"},t._l(t.icons,(function(e,a){return n("ul",{key:a,staticClass:"col",class:{last:a==t.icons.length-1}},t._l(e,(function(e,a){return n("li",{key:a,on:{click:t.clickIcon,dragend:t.handleDragEnd,dragstart:t.handleDragStart}},[n("Icon",{attrs:{imgUrl:e.img,title:e.title,handleClick:t.clickIcon,active:e.active}})],1)})),0)})),0),n("transition",{attrs:{name:"downClose"}},[t.showCalendar?[n("Calendar")]:t._e()],2),n("transition-group",{attrs:{name:"app"}},[0!==t.apps.length?[-1===this.smallWrapper.indexOf("chrome")?n("Application",{key:"app",attrs:{apps:t.apps,changeActiveWrapper:t.changeActiveWrapper,activeWrapper:t.activeWrapper,clearApps:t.clearApps,closePageByIndex:t.closePage,updateActive:t.activeApp,max:t.chromeMax,name:"chrome",iconsData:t.iconsData.filter((function(t){return"chrome"===t.type})),changeMax:t.changeMax,changeSmallWrapper:t.changeSmallWrapper},scopedSlots:t._u([{key:"default",fn:function(t){return[n("iframe",{staticClass:"webpage",attrs:{src:t.data.content}})]}}],null,!1,528962799)}):t._e()]:t._e(),0!==t.txts.length?[-1===this.smallWrapper.indexOf("txt")?n("Application",{key:"txt",attrs:{apps:t.txts,changeActiveWrapper:t.changeActiveWrapper,activeWrapper:t.activeWrapper,clearApps:t.clearApps,closePageByIndex:t.closePage,updateActive:t.activeTxt,max:t.txtMax,changeMax:t.changeMax,name:"txt",needInit:t.applicationInit,iconsData:t.iconsData.filter((function(t){return"txt"===t.type})),changeSmallWrapper:t.changeSmallWrapper},scopedSlots:t._u([{key:"default",fn:function(e){return[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data.content,expression:"pageData.data.content"}],staticClass:"txt",attrs:{autofocus:"autofocus"},domProps:{value:e.data.content},on:{keydown:function(n){return n.ctrlKey?(n.preventDefault(),t.handleKeyDown(n,e.data)):null},input:function(n){n.target.composing||t.$set(e.data,"content",n.target.value)}}})]}}],null,!1,4188975908)}):t._e()]:t._e()],2),n("Footer",{attrs:{clickBottom:t.changeBottomActive,bottomActive:t.bottomActive,bottomIcons:t.bottomIcons,changeCalendar:t.rightCalendar}}),n("transition",{attrs:{name:"app"}},[t.needLogin?n("Login",{attrs:{resolve:t.loginResolve}}):t._e()],1)],1)},o=[],c=(n("4de4"),n("caad"),n("c975"),n("a434"),n("b0c0"),n("d3b7"),n("2532"),n("d4ec")),l=(n("96cf"),n("1da1")),h=n("bc3a"),p=n.n(h),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"icon",class:{active:t.active}},[n("img",{directives:[{name:"show",rawName:"v-show",value:""!=t.imgUrl,expression:"imgUrl != ''"}],staticClass:"icon_img",attrs:{src:t.imgUrl}}),n("span",{staticClass:"title"},[t._v(t._s(t.title))])])},u=[],m={props:["title","imgUrl","handleClick","active"],methods:{}},g=m,f=(n("edba"),n("2877")),v=Object(f["a"])(g,d,u,!1,null,"5225c404",null),x=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("div",{staticClass:"begin"}),n("div",{staticClass:"left-content"},t._l(t.iconUrl,(function(e,a){return n("div",{key:a,class:["bottom-icon",{active:a===t.bottomActive}],on:{click:function(n){return t.clickBottom(e.type,a)}}},[n("img",{attrs:{src:e.imgUrl}})])})),0),n("div",{staticClass:"right-content"},[n("div",{staticClass:"time",on:{click:function(e){return e.stopPropagation(),t.changeCalendar(e)}}},[n("span",[t._v(t._s(t.time))]),n("span",[t._v(t._s(t.date))])]),n("span",{staticClass:"little-col"})])])},b=[],A=(n("d81d"),n("ac1f"),n("1276"),{props:["changeCalendar","bottomIcons","bottomActive","clickBottom"],data:function(){return{time:"12:00",date:"",dataMap:{txt:n("04ee"),chrome:n("91a6")}}},computed:{iconUrl:function(){var t=this,e=this.bottomIcons.map((function(e){if(t.dataMap[e])return{type:e,imgUrl:t.dataMap[e]}}));return e}},methods:{setTime:function(){var t=this,e=(new Date).toTimeString().split(" ")[0];this.time=e,this.date=(new Date).toLocaleString().split(" ")[0],setInterval((function(){var e=(new Date).toTimeString().split(" ")[0],n=(new Date).toLocaleString().split(" ")[0];e!==t.time&&(t.time=e),n!==t.date&&(t.date=n)}),1e3)}},mounted:function(){this.setTime(),console.log(this.iconUrl)}}),I=A,y=(n("dc44"),Object(f["a"])(I,w,b,!1,null,"0431233e",null)),D=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"calendar",staticClass:"calendar",on:{click:function(e){return e.stopPropagation(),t.stopPropagation(e)}}},[n("div",{staticClass:"calendar-top"},[n("div",{staticClass:"calendar-time"},[t._v(t._s(t.time))]),n("div",{staticClass:"calendar-date"},[t._v(" "+t._s(t.date.split("/")[0]+"年"+t.date.split("/")[1]+"月"+t.date.split("/")[2]+"日")+" ")])]),n("div",{staticClass:"calendar-content"},[n("div",{staticClass:"calendar-operation"},[n("span",[t._v(t._s(t.title))]),n("div",{staticClass:"calendar-btn"},[n("div",{staticClass:"up",on:{click:t.handleUp}}),n("div",{staticClass:"down",on:{click:t.handleDown}})])]),n("div",{staticClass:"calendar-wrapper"},[n("ul",{staticClass:"week"},t._l(t.week,(function(e,a){return n("li",{key:a,staticClass:"week-item"},[t._v(" "+t._s(e)+" ")])})),0),n("ul",{ref:"pointWrapper",class:["day",{up:t.up,down:t.down}]},t._l(t.days,(function(e,a){return n("li",{key:a,class:["day-item",{other:e.other,today:e.today&&e.month==t.date.split("/")[1]&&e.year==t.date.split("/")[0],next:e.next,prev:e.prev}]},[t._v(" "+t._s(e.day)+" ")])})),0)])])])},N=[],C=a["a"].extend({data(){return{time:"",date:"",week:["日","一","二","三","四","五","六"],days:[],pointPosition:null,title:"",up:!1,down:!1}},methods:{stopPropagation(){},handleMove(){},handleOut(t){var e=t.pageX-this.$refs.calendar.offsetLeft-15,n=t.pageY-this.$refs.calendar.offsetTop-200,a=0,i=0,s=370,r=310;(e<=a||n<=i||e>=s||n>=r)&&(this.pointPosition=null)},getDays(){var t=new Date;this.monthNow=t.getMonth(),this.nextMonth=this.monthNow+1==12?0:this.monthNow+1,this.year=t.getFullYear(),this.getDataByYearAndMonth(),this.renderDays()},handleUp(){0==this.monthNow?(this.year=this.year-1,this.nextMonth=0,this.monthNow=11,this.dayNum=31,this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=31):(this.nextMonth--,this.monthNow--,this.getDataByYearAndMonth()),this.up=!0,this.renderDays()},getDataByYearAndMonth(){this.dayNum=new Date(this.year,this.nextMonth,0).getDate(),this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=new Date(this.year,this.monthNow,0).getDate()},jumpTo(t,e=this.year){this.monthNow=t,this.year=e,this.getDataByYearAndMonth(),this.renderDays()},handleDown(){11==this.monthNow?(this.year=this.year+1,this.nextMonth=1,this.monthNow=0,this.dayNum=31,this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=31):(this.nextMonth++,this.monthNow++,this.getDataByYearAndMonth()),this.renderDays()},renderDays(){this.days=[];for(var t=0;t<this.showDays;t++)t<this.weekIndex?this.days.push({day:this.preMonthDay+t+1-this.weekIndex,other:!0,today:!1,next:!1,prev:!0,month:this.monthNow+1,year:this.year}):t-this.weekIndex<this.dayNum?this.days.push({day:t+1-this.weekIndex,other:!1,today:t+1-this.weekIndex==this.date.split("/")[2],next:!1,prev:!1,month:this.monthNow+1,year:this.year}):this.days.push({day:t-this.dayNum-this.weekIndex+1,other:!0,today:!1,next:!0,month:this.monthNow+1,prev:!1,year:this.year});this.title=this.days[19].year+"年"+this.days[19].month+"月"},setTime(){var t=new Date;this.time=t.toTimeString().split(" ")[0],this.date=t.toLocaleString().split(" ")[0],setInterval(()=>{var t=new Date,e=t.toTimeString().split(" ")[0],n=t.toLocaleString().split(" ")[0];e!==this.time&&(this.time=e),n!==this.date&&(this.date=n)},1e3)},init(){this.showDays=42,this.setTime(),this.getDays()}},mounted(){this.init()}}),M=C,O=(n("1db7"),Object(f["a"])(M,k,N,!1,null,"2bb40a23",null)),W=O.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:t.wrapperRefName,staticClass:"application-wrapper",class:{active:this.activeWrapper==t.name,max:this.max},on:{click:function(e){return t.changeActiveWrapper(t.name)}}},[a("div",{staticClass:"header",on:{dblclick:function(e){return t.changeMax(!t.max,t.name)},mousedown:function(e){return t.onMousedown(e)},mouseup:t.onMouseup}},[a("div",{staticClass:"left",on:{drag:function(e){return e.preventDefault(),t.onDrag(e)}}},t._l(t.apps,(function(e,i){return a("div",{key:i,class:["page",{active:i===t.activeIndex}],on:{click:function(e){return e.stopPropagation(),t.changeActive(i)}}},[a("div",{staticClass:"title"},[t._v(t._s(e.title))]),a("img",{staticClass:"close",attrs:{src:n("cd5c")},on:{click:function(e){return e.stopPropagation(),t.closePage(i)}}})])})),0),a("div",{staticClass:"operate"},[a("div",{staticClass:"min",on:{click:function(e){return e.stopPropagation(),t.changeSmallWrapper("add",t.name)}}}),a("div",{staticClass:"normal",on:{click:function(e){return t.changeMax(!t.max,t.name)}}}),a("div",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.closeAllPage(e)}}})])]),t._l(t.renderData,(function(e,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:n===t.activeIndex,expression:"index === activeIndex"}],key:n,staticClass:"content"},[t.mouseDown||t.activeWrapper!==t.name?a("div",{staticClass:"cover"}):t._e(),a("div",{staticClass:"webpage"},[t._t("default",null,{data:e})],2)])}))],2)},S=[],_=(n("4160"),n("159b"),{props:["apps","clearApps","closePageByIndex","updateActive","activeWrapper","changeActiveWrapper","changeSmallWrapper","max","changeMax","name","iconsData","needInit"],computed:{wrapperRefName:function(){return this.name+"Wrapper"},renderData:function(){var t=this,e=this.apps.map((function(e){return{name:e.title,content:t.dataMap[e.title]?t.dataMap[e.title]:""}}));return e}},data:function(){return{dataMap:{},activeIndex:0,mouseDown:!1,disX:0,disY:0}},watch:{updateActive:function(){this.activeIndex=this.apps.length-1},needInit:function(){this.init()}},methods:{onDrag:function(){},onMousedown:function(t){var e=this;this.mouseDown=!0,this.disX=t.pageX-this.$refs[this.wrapperRefName].getClientRects()[0].left,this.disY=t.pageY-this.$refs[this.wrapperRefName].getClientRects()[0].top,document.onmousemove=function(t){var n=e.$refs[e.wrapperRefName];if(e.mouseDown&&!n.className.includes("max")){var a=t.pageX-e.disX,i=t.pageY-e.disY;n.style.left=a+"px",n.style.top=i+"px"}},document.onmouseup=function(){e.mouseDown=!1,e.disX=0,e.disY=0}},onMouseup:function(){},changeActive:function(t){this.activeIndex=t},closePage:function(t){this.activeIndex===t?1===this.apps.length?this.closeAllPage():(this.closePageByIndex(t,this.name),0!==this.activeIndex&&this.changeActive(this.activeIndex-1)):(this.closePageByIndex(t,this.name),this.activeIndex>t&&this.changeActive(this.activeIndex-1))},closeAllPage:function(){this.clearApps(this.name),this.activeIndex=0},resize:function(){this.$refs[this.wrapperRefName].className.includes("max")?this.$refs[this.wrapperRefName].setAttribute("class","application-wrapper"):this.$refs[this.wrapperRefName].setAttribute("class","max application-wrapper")},init:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("txt"!==t.name){e.next=4;break}t.iconsData.forEach(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/txt/read",{params:{filename:n.name}});case 2:a=e.sent,200===a.status&&t.$set(t.dataMap,n.name,a.data.data.msg);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9;break;case 4:if("chrome"!==t.name){e.next=9;break}return e.next=7,p.a.get("/api/project/getmap");case 7:n=e.sent,200===n.status&&n.data.data.forEach((function(e){t.$set(t.dataMap,e.name,e.address)}));case 9:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))()}}),L=_,B=(n("b346"),Object(f["a"])(L,R,S,!1,null,"503e8d0a",null)),P=B.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mask"},[n("div",{staticClass:"login-wrapper"},[n("h3",[t._v("请先验证身份")]),t._v(" 密码："),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password"},domProps:{value:t.password},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:t.login}},[t._v("确认")])])])},E=[],Y=n("6821"),X=n.n(Y),U={props:["resolve"],data:function(){return{password:"",truePassword:X()("123123")}},methods:{login:function(){X()(this.password)===this.truePassword?(sessionStorage.setItem("login",X()(this.password)),this.resolve(1)):(console.log("密码错误"),this.resolve(0))}}},H=U,K=(n("b50e"),Object(f["a"])(H,j,E,!1,null,"2bb9c605",null)),Q=K.exports,T={components:{Footer:D,Icon:x,Calendar:W,Application:P,Login:Q},data:function(){return{icons:[[]],colLength:8,wrapperLength:0,preX:0,preY:0,home:null,dragIconIndex:null,replaceIconIndex:null,dragIconNum:0,replaceIconNum:0,replaceNode:null,dragNode:null,prevReplaceNode:null,prevDragNode:null,showCalendar:!1,apps:[],activeApp:!1,chromeMax:!1,txts:[],activeTxt:!1,txtMax:!1,doubleClickListen:null,bottomIcons:[],bottomActive:0,activeWrapper:"",smallWrapper:[],iconsData:[],needLogin:!1,loginResolve:"",applicationInit:!1}},methods:{isLogin:function(){return!!sessionStorage.getItem("login")},handleKeyDown:function(t,e){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(83!=t.keyCode){a.next=10;break}if(n.isLogin()){a.next=9;break}return a.next=4,n.changeNeedLogin(!0);case 4:i=a.sent,i?(n.changeNeedLogin(!1),n.writeFile(e)):alert("密码错误，无权修改"),n.changeNeedLogin(!1),a.next=10;break;case 9:n.writeFile(e);case 10:case"end":return a.stop()}}),a)})))()},writeFile:function(t){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,p.a.post("/api/txt/write",{content:t.content,filename:t.name});case 2:a=n.sent,a.data.data.err||(e.applicationInit=!e.applicationInit),alert(a.data.data.msg);case 4:case"end":return n.stop()}}),n)})))()},changeNeedLogin:function(t){var e=this;if(this.needLogin=t,t)return new Promise((function(t){e.loginResolve=t}))},changeActiveWrapper:function(t){this.activeWrapper=t;var e=this.bottomIcons.indexOf(t);this.bottomActive=e},changeSmallWrapper:function(t,e){switch(t){case"delete":var n=this.bottomIcons.indexOf(e);this.bottomActive=n,n=this.smallWrapper.indexOf(e),-1!=n&&this.smallWrapper.splice(n,1),this.activeWrapper=e;break;case"add":if(-1===this.smallWrapper.indexOf(e)&&this.smallWrapper.push(e),this.bottomActive===this.bottomIcons.indexOf(e)){this.bottomActive=-1,this.activeWrapper="";for(var a=0;a<this.bottomIcons.length;a++)if(this.bottomIcons[a]!==e&&-1===this.smallWrapper.indexOf(this.bottomIcons[a])){this.activeWrapper=this.bottomIcons[a],this.bottomActive=a;break}}break}},changeBottomActive:function(t,e){e||(e=this.bottomIcons.indexOf(t)),-1===this.smallWrapper.indexOf(t)?this.activeWrapper===t?this.changeSmallWrapper("add",t):(this.activeWrapper=t,this.bottomActive=this.bottomIcons.indexOf(t)):this.changeSmallWrapper("delete",t)},clearApps:function(t){switch(t){case"chrome":this.apps=[];break;case"txt":this.txts=[]}this.clearInBottomIcons(t)},changeMax:function(t,e){this[e+"Max"]=t},clearInBottomIcons:function(t){var e=this.bottomIcons.indexOf(t);if(this.bottomIcons.splice(e,1),this.activeWrapper===t){this.bottomActive=-1,this.activeWrapper="";for(var n=0;n<this.bottomIcons.length;n++)if(this.bottomIcons[n]!==t&&-1===this.smallWrapper.indexOf(this.bottomIcons[n])){this.activeWrapper=this.bottomIcons[n],this.bottomActive=n;break}}else this.bottomActive>e&&this.bottomActive--},closePage:function(t,e){switch(e){case"txt":this.txts.splice(t,1);break;case"chrome":this.apps.splice(t,1);break}},rightCalendar:function(){this.showCalendar=!this.showCalendar},contentClick:function(){this.showCalendar&&(this.showCalendar=!1)},handleDragEnd:function(t){if(this.dragIconIndex){var e=1,n=1,a=63,i=68;while(t.clientX>=e*a+5)e++;while(t.clientY>=n*i+5)n++;if(this.dragIconIndex.x===e-1&&this.dragIconIndex.y===n-1)return console.log("不处理"),void(this.dragIconIndex=null);var s=this.icons[e-1][n-1]&&""==this.icons[e-1][n-1].title;this.replaceIconIndex={x:e-1,y:n-1},this.replaceIconNum=this.replaceIconIndex.x*this.colLength+this.replaceIconIndex.y+1,this.dragIconNum=this.dragIconIndex.x*this.colLength+this.dragIconIndex.y+1;var r=this.home,o=0,c=!1;while(r.next&&o!=this.replaceIconNum-2){if(this.replaceIconNum-1==0){c=!0;break}r=r.next,o++}if(c||(this.prevReplaceNode=r,r=r.next),this.replaceNode=r,s){var l=this.home;while(l.next)l=l.next;this.prevReplaceNode=l}r=this.home,o=0,c=!1;while(r.next&&o!=this.dragIconNum-2){if(this.dragIconNum-1==0){c=!0;break}r=r.next,o++}c||(this.prevDragNode=r,r=r.next),this.dragNode=r,this.insertIcon(s)}},insertIcon:function(t){if(this.dragNode!==this.replaceNode){var e=this.prevReplaceNode===this.dragNode;if(e)return this.prevDragNode?(this.prevDragNode.next=this.replaceNode,this.dragNode.next=this.replaceNode.next,this.replaceNode.next=this.dragNode):(this.home=this.replaceNode,this.dragNode.next=this.replaceNode.next,this.replaceNode.next=this.dragNode),this.initDrag(),void this.renderDataFromHomeList();if(this.prevDragNode)this.prevDragNode.next=this.dragNode.next;else{var n=this.home;this.home=n.next}this.prevReplaceNode?(this.prevReplaceNode.next=this.dragNode,this.dragNode.next=t?null:this.replaceNode):(this.dragNode.next=this.home,this.home=this.dragNode),this.initDrag(),this.renderDataFromHomeList()}},readHome:function(){var t=this.home;while(t.next)console.log(t.title),t=t.next;console.log(t.title)},initDrag:function(){this.dragIconIndex=null,this.replaceIconIndex=null,this.dragIconNum=0,this.replaceIconNum=0,this.replaceNode=null,this.dragNode=null,this.prevReplaceNode=null,this.prevDragNode=null},handleDragStart:function(t){if(0===this.apps.length&&0===this.txts.length){var e=1,n=1,a=63,i=68;while(t.clientX>=e*a+5)e++;while(t.clientY>=n*i+5)n++;""!=this.icons[e-1][n-1].title&&(this.dragIconIndex={x:e-1,y:n-1})}else alert("存在窗口时禁止拖动图标")},renderDataFromHomeList:function(){for(var t=null,e=!1,n=0;n<this.wrapperLength;n++){0==n&&(t=this.home);for(var a=0;a<this.colLength;a++){if(this.icons[n][a].title=t.title,this.icons[n][a].img=t.img,!t.next){e=!0;break}t=t.next}if(e)break}},init:function(){var t=40,e=68,n=63;this.colLength=Math.floor((this.$el.offsetHeight-t-10)/e),this.wrapperLength=Math.floor((this.$el.offsetWidth-10)/n);for(var a=0;a<this.wrapperLength;a++){for(var i=[],s=0;s<this.colLength;s++)i.push({title:"",img:"",active:!1});0!=a?this.icons.push(i):this.icons=[i]}},clickIcon:function(t){var e=this,n=!1,a=1,i=1,s=63,r=68;while(t.pageX>=a*s+5)a++;while(t.pageY>=i*r+5)i++;if(0!=this.preX&&(this.icons[this.preX-1][this.preY-1].active=!1),""!=this.icons[a-1][i-1].title)if(this.preX===a&&this.preY===i){var o=this.icons[a-1][i-1];this.doubleClick(o),n=!0,this.preX=0,this.preY=0}else this.icons[a-1][i-1].active=!0,this.preY=i,this.preX=a;else this.preX=0,this.preY=0;n||(this.doubleClickListen=setTimeout((function(){e.doubleClickListen=null}),500))},handleShow:function(t){this.activeWrapper=t;var e=this.bottomIcons.indexOf(t);-1===e?(this.bottomIcons.push(t),this.bottomActive=this.bottomIcons.length-1):(this.bottomActive=this.bottomIcons.indexOf(t),this.changeSmallWrapper("delete",t),console.log("从small中去除"+t),console.log("small",this.smallWrapper))},doubleClick:function(t){if(this.doubleClickListen){var e="",n="",a="";if(t.title.includes(".txt")?(e="txt",a="Txt",n="txts"):(e="chrome",n="apps",a="App"),this[n].length>=11)return void alert("同时最多开启11个窗口");this.handleShow(e),this[n].push(t),this["active"+a]=!this["active"+a]}}},mounted:function(){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var a,i,s,r,o,l,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.init(),a=function t(e,n,a){Object(c["a"])(this,t),this.title=e||"",this.img=n||"",this.next=a||null},i=new a,t.home=i,e.next=6,p.a.get("/api/icon/geticon");case 6:s=e.sent,200===s.status&&(t.iconsData=s.data.data),r=[{name:"chrome",img:n("91a6")},{name:"txt",img:n("04ee")}],o=0;case 10:if(!(o<t.iconsData.length)){e.next=27;break}if(i.title=t.iconsData[o].name,l=r.filter((function(e){return e.name===t.iconsData[o].type})),!(l.length<=0)){e.next=17;break}throw new Error("缺少图片类型："+t.iconsData[o].type);case 17:i.img=l[0].img;case 18:if(o!==t.iconsData.length-1){e.next=21;break}return i.next=null,e.abrupt("break",27);case 21:h=new a,i.next=h,i=h;case 24:o++,e.next=10;break;case 27:t.renderDataFromHomeList();case 28:case"end":return e.stop()}}),e)})))()}},F=T,Z=(n("877e"),Object(f["a"])(F,r,o,!1,null,"23fbb95b",null)),J=Z.exports,V={name:"App",components:{Home:J},mounted:function(){document.oncontextmenu=function(t){console.log(t)}}},q=V,$=(n("034f"),Object(f["a"])(q,i,s,!1,null,null,null)),z=$.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(z)}}).$mount("#app")},5998:function(t,e,n){},6676:function(t,e,n){},"85ec":function(t,e,n){},"877e":function(t,e,n){"use strict";var a=n("a3e3"),i=n.n(a);i.a},"91a6":function(t,e,n){t.exports=n.p+"img/Chrome.5d38b68d.png"},"9e91":function(t,e,n){},a3e3:function(t,e,n){},b346:function(t,e,n){"use strict";var a=n("9e91"),i=n.n(a);i.a},b50e:function(t,e,n){"use strict";var a=n("3805"),i=n.n(a);i.a},cd5c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAW0lEQVQoU2NkIBEwQtULQOkPOPTD5ZE1TGBgYChgYGBA1wRSDJeDaQAZjCKBZDOKQcga0DWB+Bi2omuAaZoGtSEL3YkUa0D2B0EnkeRpbIphUYI1WEmOOKITCADHiR4N21x8mgAAAABJRU5ErkJggg=="},dc44:function(t,e,n){"use strict";var a=n("16e7"),i=n.n(a);i.a},edba:function(t,e,n){"use strict";var a=n("6676"),i=n.n(a);i.a}});
//# sourceMappingURL=app.0c0bffff.js.map