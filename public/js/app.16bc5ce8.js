(function(e){function t(t){for(var a,s,o=t[0],c=t[1],h=t[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,h||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},r=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var h=0;h<o.length;h++)t(o[h]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("85ec"),i=n.n(a);i.a},"04ee":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAADjElEQVRoQ+2Z3U3cQBCAZ8whwb0AL0geP4RUEK6CHBVAKghUkFBBSAWBCnIdBCqAVBBSQeDh1hIvwAucBHiisbxoz7e2d31n6xDsq8fj+WY8P7uL8MIXvnD74XUCXF9fr97d3f0AgB1EXJ1FFBFxKwzDM19dtSIwHA7/IOImANwCwLnvR3PyGwDwjplvFhcXt9bX1730eQPEcbzLzD8B4ISIdqY0HobD4QEifhM9dSDqAPSTJOkHQTAIw/BihgAnALDtC+ENMK3B+fd1BCQHmHkXAD4DwMXy8nJvbW3tpup7VoCrq6vNp6en7aqXXZ6LR4noqEjWBJAkVkoNBIKZz7vd7lYVxASAUkqqy1cX41xlmHkQRdGeTT4PIDI+EGMASilJyl8AcImIBxJKVyNtckmSHCLih+zZERFNOMYGkEEcZzlxHkVRr8iOPEAaPgD4RESiYKqllJK6/lErQcS9MAzlG8+rCCDrNWfigLII5gHSDxLRTJLbANgHAInoSh6iCEAIXSBaAZAKs7CwcPP4+CgOGoMw+so+ER3mQ14F0RpAVmF0jkGn0+lJ143jeIOZ/0m1AoDdIAgmSmeSJDKuDLKxZQy0VQDxrva42bCUUpLcUv2cFiK+1020dYAiiDiO0w6PiP0SinRuMgc/JwAJc1adyjx0ma8wOoltk6YZiSAIei5jiS3hXQH6zHxaEd/fRDTmPd2QikZlpZQk7RfXrjsNwEaSJDKnFK4gCC4sEUj/bWb+HkWRlNGJ5dN1awM4ZZZFSErg/f29dPMV8TIiFg1nOnITUaxqek6/UF0AeU8Gw4eHBymBeqQoVafLq02o9QiYRkg0RqOR7OKsS89NZVvL2gBS4uoksU/kyiqW1vN6AXw8WVe20QjUNcrnvTcA8Zb2Qn4/4DhK+Djca+xoK4l9AGxjR7qZaqqMVo4SPtYXjB3NAfgYV1f2LYnLkriuV33eazQCjqOEj72tJ7HLLDS/AD6W1ZV1+YX05sccuRvfD7gC5QHiOH4+0RMdzCxHMrLDuyQi2aOna24BlFJsgb/tdDp98xZnbgFk9jcBpPktLS0d54/b5xbA9dezApgnX66KppUzcuD51M1F5xiAceF2SERyotzKyjb+p4iIROR1bTsGYB6DZJcbU11weNDrYxXrCXWZnol7gOy0WE7MZnJH5gLBzH/lRqjOpcpMLjJcjGxK5g2gKc+66v0PHDYqXtJ2QzEAAAAASUVORK5CYII="},"1db3":function(e,t,n){"use strict";var a=n("6270"),i=n.n(a);i.a},"1db7":function(e,t,n){"use strict";var a=n("5998"),i=n.n(a);i.a},2613:function(e,t,n){"use strict";var a=n("abd0"),i=n.n(a);i.a},"2f01":function(e,t,n){},"31ac":function(e,t,n){"use strict";var a=n("f54d"),i=n.n(a);i.a},3237:function(e,t,n){},"3d91":function(e,t,n){},"44de3":function(e,t,n){"use strict";var a=n("3d91"),i=n.n(a);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Home")],1)},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home"},on:{contextmenu:function(e){e.preventDefault()},click:e.contentClick}},[n("div",{staticClass:"wrapper"},e._l(e.icons,(function(t,a){return n("ul",{key:a,staticClass:"col",class:{last:a==e.icons.length-1}},e._l(t,(function(t,a){return n("li",{key:a,on:{click:e.clickIcon,dragend:e.handleDragEnd,dragstart:e.handleDragStart,contextmenu:function(n){return n.stopPropagation(),n.preventDefault(),e.rightClickByIcon(n,t,a)}}},[n("Icon",{attrs:{imgUrl:t.img,title:t.title,handleClick:e.clickIcon,active:t.active}})],1)})),0)})),0),n("transition",{attrs:{name:"downClose"}},[e.showCalendar?[n("Calendar")]:e._e()],2),n("transition-group",{attrs:{name:"app"}},[0!==e.apps.length?[-1===this.smallWrapper.indexOf("chrome")?n("Application",{key:"app",attrs:{apps:e.apps,changeActiveWrapper:e.changeActiveWrapper,activeWrapper:e.activeWrapper,clearApps:e.clearApps,closePageByIndex:e.closePage,updateActive:e.activeApp,max:e.chromeMax,needClose:e.needClose,name:"chrome",iconsData:e.iconsData.filter((function(e){return"chrome"===e.type})),changeMax:e.changeMax,changeSmallWrapper:e.changeSmallWrapper},scopedSlots:e._u([{key:"default",fn:function(e){return[n("iframe",{staticClass:"webpage",attrs:{src:e.data.content}})]}}],null,!1,528962799)}):e._e()]:e._e(),0!==e.txts.length?[-1===this.smallWrapper.indexOf("txt")?n("Application",{key:"txt",attrs:{apps:e.txts,changeActiveWrapper:e.changeActiveWrapper,activeWrapper:e.activeWrapper,clearApps:e.clearApps,closePageByIndex:e.closePage,updateActive:e.activeTxt,max:e.txtMax,changeMax:e.changeMax,name:"txt",needClose:e.needClose,needInit:e.applicationInit,iconsData:e.iconsData.filter((function(e){return"txt"===e.type})),changeSmallWrapper:e.changeSmallWrapper},scopedSlots:e._u([{key:"default",fn:function(t){return[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.data.content,expression:"pageData.data.content"}],staticClass:"txt",attrs:{autofocus:""},domProps:{value:t.data.content},on:{keydown:function(n){return(n.type.indexOf("key")||83===n.keyCode)&&n.ctrlKey?(n.preventDefault(),e.handleKeyDown(n,t.data)):null},input:function(n){n.target.composing||e.$set(t.data,"content",n.target.value)}}})]}}],null,!1,2278370501)}):e._e()]:e._e()],2),n("Footer",{attrs:{clickBottom:e.changeBottomActive,bottomActive:e.bottomActive,bottomIcons:e.bottomIcons,changeCalendar:e.rightCalendar}}),n("transition",{attrs:{name:"app"}},[e.needLogin?n("Login",{attrs:{resolve:e.loginResolve}}):e._e()],1),n("transition",{attrs:{name:"app"}},[e.showRightMenu?[n("right-menu",{attrs:{icon:e.rightIcon,mode:e.rightMenuMode,left:e.rightMenuPosition.x,top:e.rightMenuPosition.y,handleUpdate:e.clickUpdateByMenu,handleDelete:e.handleDelete,handleAdd:e.clickAddByMenu,changeShow:e.changeRightMenu}})]:e._e()],2),n("transition-group",{attrs:{name:"app"}},[e.showCreate?n("Createicon",{key:"create",attrs:{submit:e.handleCreateIcon,changeShowCreate:e.changeShowCreate}}):e._e(),e.showUpdate?n("UpdateIcon",{key:"update",attrs:{submit:e.handleUpdateIcon,changeShowUpdate:e.changeShowUpdate,icon:e.rightIcon}}):e._e()],1)],1)},o=[],c=(n("99af"),n("4de4"),n("caad"),n("c975"),n("a434"),n("b0c0"),n("d3b7"),n("2532"),n("d4ec")),h=n("5530"),l=(n("96cf"),n("1da1")),u=n("bc3a"),p=n.n(u),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon",class:{active:e.active}},[n("img",{directives:[{name:"show",rawName:"v-show",value:""!=e.imgUrl,expression:"imgUrl != ''"}],staticClass:"icon_img",attrs:{src:e.imgUrl}}),n("span",{staticClass:"title"},[e._v(e._s(e.title))])])},m=[],g={props:["title","imgUrl","handleClick","active"],methods:{}},f=g,v=(n("d736"),n("2877")),x=Object(v["a"])(f,d,m,!1,null,"3181de06",null),w=x.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"footer"},[n("div",{staticClass:"begin"}),n("div",{staticClass:"left-content"},e._l(e.iconUrl,(function(t,a){return n("div",{key:a,class:["bottom-icon",{active:a===e.bottomActive}],on:{click:function(n){return e.clickBottom(t.type,a)}}},[n("img",{attrs:{src:t.imgUrl}})])})),0),n("div",{staticClass:"right-content"},[n("div",{staticClass:"time",on:{click:function(t){return t.stopPropagation(),e.changeCalendar(t)}}},[n("span",[e._v(e._s(e.time))]),n("span",[e._v(e._s(e.date))])]),n("span",{staticClass:"little-col"})])])},y=[],k=(n("d81d"),n("ac1f"),n("1276"),{props:["changeCalendar","bottomIcons","bottomActive","clickBottom"],data:function(){return{time:"12:00",date:"",dataMap:{txt:n("04ee"),chrome:n("91a6")}}},computed:{iconUrl:function(){var e=this,t=this.bottomIcons.map((function(t){if(e.dataMap[t])return{type:t,imgUrl:e.dataMap[t]}}));return t}},methods:{setTime:function(){var e=this,t=(new Date).toTimeString().split(" ")[0];this.time=t,this.date=(new Date).toLocaleString().split(" ")[0],setInterval((function(){var t=(new Date).toTimeString().split(" ")[0],n=(new Date).toLocaleString().split(" ")[0];t!==e.time&&(e.time=t),n!==e.date&&(e.date=n)}),1e3)}},mounted:function(){this.setTime()}}),I=k,A=(n("69b7"),Object(v["a"])(I,b,y,!1,null,"51e2c90e",null)),D=A.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"calendar",staticClass:"calendar",on:{click:function(t){return t.stopPropagation(),e.stopPropagation(t)}}},[n("div",{staticClass:"calendar-top"},[n("div",{staticClass:"calendar-time"},[e._v(e._s(e.time))]),n("div",{staticClass:"calendar-date"},[e._v(" "+e._s(e.date.split("/")[0]+"年"+e.date.split("/")[1]+"月"+e.date.split("/")[2]+"日")+" ")])]),n("div",{staticClass:"calendar-content"},[n("div",{staticClass:"calendar-operation"},[n("span",[e._v(e._s(e.title))]),n("div",{staticClass:"calendar-btn"},[n("div",{staticClass:"up",on:{click:e.handleUp}}),n("div",{staticClass:"down",on:{click:e.handleDown}})])]),n("div",{staticClass:"calendar-wrapper"},[n("ul",{staticClass:"week"},e._l(e.week,(function(t,a){return n("li",{key:a,staticClass:"week-item"},[e._v(" "+e._s(t)+" ")])})),0),n("ul",{ref:"pointWrapper",class:["day",{up:e.up,down:e.down}]},e._l(e.days,(function(t,a){return n("li",{key:a,class:["day-item",{other:t.other,today:t.today&&t.month==e.date.split("/")[1]&&t.year==e.date.split("/")[0],next:t.next,prev:t.prev}]},[e._v(" "+e._s(t.day)+" ")])})),0)])])])},N=[],M=a["default"].extend({data(){return{time:"",date:"",week:["日","一","二","三","四","五","六"],days:[],pointPosition:null,title:"",up:!1,down:!1}},methods:{stopPropagation(){},handleMove(){},handleOut(e){var t=e.pageX-this.$refs.calendar.offsetLeft-15,n=e.pageY-this.$refs.calendar.offsetTop-200,a=0,i=0,r=370,s=310;(t<=a||n<=i||t>=r||n>=s)&&(this.pointPosition=null)},getDays(){var e=new Date;this.monthNow=e.getMonth(),this.nextMonth=this.monthNow+1==12?0:this.monthNow+1,this.year=e.getFullYear(),this.getDataByYearAndMonth(),this.renderDays()},handleUp(){0==this.monthNow?(this.year=this.year-1,this.nextMonth=0,this.monthNow=11,this.dayNum=31,this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=31):(this.nextMonth--,this.monthNow--,this.getDataByYearAndMonth()),this.up=!0,this.renderDays()},getDataByYearAndMonth(){this.dayNum=new Date(this.year,this.nextMonth,0).getDate(),this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=new Date(this.year,this.monthNow,0).getDate()},jumpTo(e,t=this.year){this.monthNow=e,this.year=t,this.getDataByYearAndMonth(),this.renderDays()},handleDown(){11==this.monthNow?(this.year=this.year+1,this.nextMonth=1,this.monthNow=0,this.dayNum=31,this.weekIndex=new Date(this.year,this.monthNow,1).getDay(),this.preMonthDay=31):(this.nextMonth++,this.monthNow++,this.getDataByYearAndMonth()),this.renderDays()},renderDays(){this.days=[];for(var e=0;e<this.showDays;e++)e<this.weekIndex?this.days.push({day:this.preMonthDay+e+1-this.weekIndex,other:!0,today:!1,next:!1,prev:!0,month:this.monthNow+1,year:this.year}):e-this.weekIndex<this.dayNum?this.days.push({day:e+1-this.weekIndex,other:!1,today:e+1-this.weekIndex==this.date.split("/")[2],next:!1,prev:!1,month:this.monthNow+1,year:this.year}):this.days.push({day:e-this.dayNum-this.weekIndex+1,other:!0,today:!1,next:!0,month:this.monthNow+1,prev:!1,year:this.year});this.title=this.days[19].year+"年"+this.days[19].month+"月"},setTime(){var e=new Date;this.time=e.toTimeString().split(" ")[0],this.date=e.toLocaleString().split(" ")[0],setInterval(()=>{var e=new Date,t=e.toTimeString().split(" ")[0],n=e.toLocaleString().split(" ")[0];t!==this.time&&(this.time=t),n!==this.date&&(this.date=n)},1e3)},init(){this.showDays=42,this.setTime(),this.getDays()}},mounted(){this.init()}}),R=M,S=(n("1db7"),Object(v["a"])(R,C,N,!1,null,"2bb40a23",null)),O=S.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:e.wrapperRefName,staticClass:"application-wrapper",class:{active:this.activeWrapper==e.name,max:this.max},on:{click:function(t){return e.changeActiveWrapper(e.name)}}},[a("div",{staticClass:"header",on:{dblclick:function(t){return e.changeMax(!e.max,e.name)},mousedown:function(t){return e.onMousedown(t)},mouseup:e.onMouseup}},[a("div",{staticClass:"left",on:{drag:function(t){return t.preventDefault(),e.onDrag(t)}}},e._l(e.apps,(function(t,i){return a("div",{key:i,class:["page",{active:i===e.activeIndex}],on:{click:function(t){return t.stopPropagation(),e.changeActive(i)}}},[a("div",{staticClass:"title"},[e._v(e._s(t.title))]),a("img",{staticClass:"close",attrs:{src:n("cd5c")},on:{click:function(t){return t.stopPropagation(),e.closePage(i)}}})])})),0),a("div",{staticClass:"operate"},[a("div",{staticClass:"min",on:{click:function(t){return t.stopPropagation(),e.changeSmallWrapper("add",e.name)}}}),a("div",{staticClass:"normal",on:{click:function(t){return e.changeMax(!e.max,e.name)}}}),a("div",{staticClass:"close",on:{click:function(t){return t.stopPropagation(),e.closeAllPage(t)}}})])]),e._l(e.renderData,(function(t,n){return a("div",{directives:[{name:"show",rawName:"v-show",value:n===e.activeIndex,expression:"index === activeIndex"}],key:n,staticClass:"content"},[e.mouseDown||e.activeWrapper!==e.name?a("div",{staticClass:"cover"}):e._e(),a("div",{staticClass:"webpage"},[e._t("default",null,{data:t})],2)])}))],2)},W=[],B=(n("4160"),n("159b"),{props:["apps","clearApps","closePageByIndex","updateActive","activeWrapper","changeActiveWrapper","changeSmallWrapper","max","changeMax","name","needClose","iconsData","needInit"],computed:{wrapperRefName:function(){return this.name+"Wrapper"},renderData:function(){var e=this,t=this.apps.map((function(t){return{name:t.title,content:e.dataMap[t.title]?e.dataMap[t.title]:""}}));return t}},data:function(){return{dataMap:{},activeIndex:0,mouseDown:!1,disX:0,disY:0}},watch:{updateActive:function(){this.activeIndex=this.apps.length-1},needInit:function(){this.init()},needClose:function(e){e.type===this.name&&this.closePage(e.index)}},methods:{onDrag:function(){},onMousedown:function(e){var t=this;this.mouseDown=!0,this.disX=e.pageX-this.$refs[this.wrapperRefName].getClientRects()[0].left,this.disY=e.pageY-this.$refs[this.wrapperRefName].getClientRects()[0].top,document.onmousemove=function(e){var n=t.$refs[t.wrapperRefName];if(t.mouseDown&&!n.className.includes("max")){var a=e.pageX-t.disX,i=e.pageY-t.disY;n.style.left=a+"px",n.style.top=i+"px"}},document.onmouseup=function(){t.mouseDown=!1,t.disX=0,t.disY=0}},onMouseup:function(){},changeActive:function(e){this.activeIndex=e},closePage:function(e){this.activeIndex===e?1===this.apps.length?this.closeAllPage():(this.closePageByIndex(e,this.name),0!==this.activeIndex&&this.changeActive(this.activeIndex-1)):(this.closePageByIndex(e,this.name),this.activeIndex>e&&this.changeActive(this.activeIndex-1))},closeAllPage:function(){this.clearApps(this.name),this.activeIndex=0},resize:function(){this.$refs[this.wrapperRefName].className.includes("max")?this.$refs[this.wrapperRefName].setAttribute("class","application-wrapper"):this.$refs[this.wrapperRefName].setAttribute("class","max application-wrapper")},init:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("txt"!==e.name){t.next=4;break}e.iconsData.forEach(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/api/txt/read",{params:{filename:n.name}});case 2:a=t.sent,200===a.status&&e.$set(e.dataMap,n.name,a.data.data.msg);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9;break;case 4:if("chrome"!==e.name){t.next=9;break}return t.next=7,p.a.get("/api/project/getmap");case 7:n=t.sent,200===n.status&&n.data.data.forEach((function(t){e.$set(e.dataMap,t.name,t.address)}));case 9:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.activeIndex=e.apps.length-1,t.next=3,e.init();case 3:case"end":return t.stop()}}),t)})))()}}),j=B,L=(n("fc84"),Object(v["a"])(j,_,W,!1,null,"84e520fc",null)),P=L.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.resolve(0)}}},[n("div",{staticClass:"login-wrapper"},[n("h3",[e._v("请先验证身份")]),e._v(" 密码： "),n("el-input",{attrs:{placeholder:"请输入密码",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("el-button",{on:{click:e.login}},[e._v("确认")])],1)])},U=[],z=n("6821"),$=n.n(z),E={props:["resolve"],data:function(){return{password:"",truePassword:$()("123123")}},methods:{login:function(){$()(this.password)===this.truePassword?(sessionStorage.setItem("login",$()(this.password)),this.resolve(1)):this.resolve(0)}}},Y=E,X=(n("31ac"),Object(v["a"])(Y,F,U,!1,null,"7dd623db",null)),H=X.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[n("div",{staticClass:"createicon-wrapper"},[n("h3",[e._v("新建图标")]),n("el-form",{ref:"form",attrs:{model:e.sizeForm,"label-width":"100px",size:"large"}},[n("el-form-item",{attrs:{label:"文件/项目名"}},[n("el-input",{attrs:{maxlength:"13","show-word-limit":""},model:{value:e.sizeForm.name,callback:function(t){e.$set(e.sizeForm,"name",t)},expression:"sizeForm.name"}})],1),n("el-form-item",{attrs:{label:"网址",maxlength:"50","show-word-limit":""}},[n("el-input",{attrs:{disabled:"chrome"!==e.sizeForm.type},model:{value:e.sizeForm.address,callback:function(t){e.$set(e.sizeForm,"address",t)},expression:"sizeForm.address"}})],1),n("el-form-item",{attrs:{label:"文件类型"}},[n("el-select",{attrs:{placeholder:"请选择文件类型"},model:{value:e.sizeForm.type,callback:function(t){e.$set(e.sizeForm,"type",t)},expression:"sizeForm.type"}},e._l(e.types,(function(e,t){return n("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])},K=[],Q={props:["changeShowCreate","submit"],data:function(){return{types:["txt","chrome"],sizeForm:{name:"",type:"",address:""}}},methods:{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.sizeForm.name&&e.sizeForm.type&&("chrome"!==e.sizeForm.type||e.sizeForm.address)){t.next=3;break}return e.$message({type:"warning",message:"缺少必要参数"}),t.abrupt("return");case 3:return t.next=5,e.submit(e.sizeForm);case 5:n=t.sent,n.err?e.$message({message:n.msg,duration:2e3,type:"error"}):(e.$message({message:"操作成功",duration:2e3,type:"success"}),e.changeShowCreate(!1));case 7:case"end":return t.stop()}}),t)})))()},cancel:function(){this.changeShowCreate(!1)}}},Z=Q,J=(n("1db3"),Object(v["a"])(Z,T,K,!1,null,"b4fe961a",null)),V=J.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{ref:"rightMenu",staticClass:"right-menu-wrapper"},["update"===e.mode?e._l(e.update,(function(t,a){return n("li",{key:a,on:{click:function(){t.click(),e.changeShow(!1)}}},[e._v(e._s(t.text))])})):e._e(),"add"===e.mode?e._l(e.add,(function(t,a){return n("li",{key:a,on:{click:function(){t.click(),e.changeShow(!1)}}},[e._v(e._s(t.text))])})):e._e()],2)},G=[],ee={props:["mode","icon","left","top","handleUpdate","handleAdd","handleDelete","changeShow"],watch:{left:function(e){this.$refs.rightMenu.style.left=e+"px"},top:function(e){this.$refs.rightMenu.style.top=e+"px"}},methods:{},data:function(){return{update:[{text:"修改图标",click:this.handleUpdate},{text:"删除图标",click:this.handleDelete}],add:[{text:"新建图标",click:this.handleAdd}]}},mounted:function(){this.$refs.rightMenu.style.left=this.left+"px",this.$refs.rightMenu.style.top=this.top+"px"}},te=ee,ne=(n("2613"),Object(v["a"])(te,q,G,!1,null,"6d44a318",null)),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mask",on:{click:function(t){return t.target!==t.currentTarget?null:e.cancel(t)}}},[n("div",{staticClass:"update-wrapper"},[n("h3",[e._v("修改数据")]),n("el-form",{ref:"form",attrs:{model:e.sizeForm,"label-width":"100px",size:"large"}},[n("el-form-item",{attrs:{label:"文件/项目名"}},[n("el-input",{attrs:{maxlength:"13","show-word-limit":""},model:{value:e.sizeForm.name,callback:function(t){e.$set(e.sizeForm,"name",t)},expression:"sizeForm.name"}})],1),n("el-form-item",{attrs:{label:"网址",maxlength:"50","show-word-limit":""}},[n("el-input",{attrs:{disabled:"chrome"!==e.type},model:{value:e.sizeForm.address,callback:function(t){e.$set(e.sizeForm,"address",t)},expression:"sizeForm.address"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认修改")]),n("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)])},re=[],se={props:["changeShowUpdate","submit","icon"],data:function(){return{type:"",sizeForm:{name:"",address:""}}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.type=e.icon.type,e.sizeForm.name=e.icon.title,"chrome"!==e.type){t.next=8;break}return t.next=5,p.a.get("/api/project/getmap");case 5:for(n=t.sent,a=n.data.data,i=0;i<a.length;i++)a[i].name==e.icon.title&&(e.sizeForm.address=a[i].address);case 8:case"end":return t.stop()}}),t)})))()},methods:{onSubmit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("txt"!==e.type||e.sizeForm.name.includes(".txt")||(e.sizeForm.name+=".txt"),e.sizeForm.name&&("chrome"!==e.type||e.sizeForm.address)){t.next=4;break}return e.$message({type:"warning",message:"缺少必要参数"}),t.abrupt("return");case 4:return t.next=6,e.submit(e.sizeForm);case 6:n=t.sent,n.err?e.$message({message:n.msg,duration:2e3,type:"error"}):(e.$message({message:"更新成功",duration:2e3,type:"success"}),e.changeShowUpdate(!1));case 8:case"end":return t.stop()}}),t)})))()},cancel:function(){this.changeShowUpdate(!1)}}},oe=se,ce=(n("bed8"),Object(v["a"])(oe,ie,re,!1,null,"75029a66",null)),he=ce.exports,le={components:{Footer:D,Icon:w,Calendar:O,Application:P,Login:H,Createicon:V,RightMenu:ae,UpdateIcon:he},data:function(){return{icons:[[]],colLength:8,wrapperLength:0,iconHeight:68,iconWidth:63,preX:0,preY:0,home:null,dragIconIndex:null,replaceIconIndex:null,dragIconNum:0,replaceIconNum:0,replaceNode:null,dragNode:null,prevReplaceNode:null,prevDragNode:null,showCalendar:!1,apps:[],activeApp:!1,chromeMax:!1,needClose:{},txts:[],activeTxt:!1,txtMax:!1,doubleClickListen:null,bottomIcons:[],bottomActive:0,activeWrapper:"",smallWrapper:[],iconsData:[],needLogin:!1,loginResolve:"",applicationInit:!1,showCreate:!1,showUpdate:!1,showRightMenu:!1,rightMenuMode:"",rightIcon:{},rightMenuPosition:{x:0,y:0}}},methods:{changeRightMenu:function(e){this.showRightMenu=e;for(var t=0;t<this.icons.length-1;t++)for(var n=0;n<this.icons[t].length-1;n++)this.icons[t][n].active&&(this.icons[t][n].active=!1);this.preX=0,this.preY=0},handleUpdateIcon:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.handleLogin(t.updateIcon,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},updateIcon:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.post("/api/icon/updateicon",{name:t.rightIcon.title,newName:e.name,address:e.address?e.address:""});case 3:if(a=n.sent,a.data.data.err){n.next=7;break}return t.reload(),n.abrupt("return",{err:!1,msg:"成功"});case 7:n.next=12;break;case 9:return n.prev=9,n.t0=n["catch"](0),n.abrupt("return",{err:!0,msg:n.t0});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},clickUpdateByMenu:function(){this.changeShowUpdate(!0)},handleDelete:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.handleLogin(e.deleteByMenu);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},deleteByMenu:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});case 3:if(n=t.sent,"confirm"===n){t.next=7;break}return e.$message({type:"warning",message:"取消删除"}),t.abrupt("return");case 7:return t.next=9,p.a.get("/api/icon/deleteicon",{params:{name:e.rightIcon.title,type:e.rightIcon.type}});case 9:a=t.sent,a.data.data.err?e.$message({type:"error",message:"删除失败!"}):(e.$message({type:"success",message:"删除成功!"}),i="txt"===e.rightIcon.type?e.txts.indexOf(e.rightIcon.title):e.apps.indexOf(e.rightIcon.title),e.needClose={type:e.rightIcon.type,index:i},e.reload()),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.$message({type:"warning",message:"取消删除"});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},clickAddByMenu:function(){this.changeShowCreate(!0)},rightClickByIcon:function(e,t){if(this.rightMenuPosition.x=e.pageX,this.rightMenuPosition.y=e.pageY,this.showRightMenu||(this.showRightMenu=!0),""===t.title){this.rightIcon={},this.rightMenuMode="add";for(var n=0;n<this.icons.length-1;n++)for(var a=0;a<this.icons[n].length-1;a++)this.icons[n][a].active&&(this.icons[n][a].active=!1);this.preX=0,this.preY=0}else{if(!t.active){for(var i=0;i<this.icons.length-1;i++)for(var r=0;r<this.icons[i].length-1;r++)this.icons[i][r].active&&(this.icons[i][r].active=!1);t.active=!0;for(var s=0;s<this.icons.length-1;s++)for(var o=0;o<this.icons[s].length-1;o++)this.icons[s][o].active&&(this.preX=s+1,this.preY=o+1)}this.rightMenuMode="update",this.rightIcon=t}},changeShowCreate:function(e){this.showCreate=e},changeShowUpdate:function(e){this.showUpdate=e},handleCreateIcon:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.handleLogin(t.createIcon,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},createIcon:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:"txt"!==e.type||e.name.includes(".txt")||(e.name+=".txt"),a=0;case 2:if(!(a<t.iconsData.length)){n.next=10;break}if(i=t.iconsData[a],i.name!==e.name||i.type!==e.type){n.next=7;break}return console.log(111),n.abrupt("return",{err:!0,msg:"存在重复名字，创建失败"});case 7:a++,n.next=2;break;case 10:return n.next=12,p.a.post("/api/icon/addicon",Object(h["a"])({},e));case 12:if(r=n.sent,!r.data.data||r.data.data.err){n.next=18;break}return t.reload(),n.abrupt("return",{err:!1,msg:"成功"});case 18:return n.abrupt("return",{err:!0,msg:r.data.msg});case 19:case"end":return n.stop()}}),n)})))()},handleLogin:function(e){var t=arguments,n=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var i,r,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(i=t.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=t[s];if(n.isLogin()){a.next=15;break}return a.next=4,n.changeNeedLogin(!0);case 4:if(o=a.sent,!o){a.next=11;break}return n.$message({message:"密码正确",duration:2e3,type:"success"}),n.changeNeedLogin(!1),a.abrupt("return",e.call.apply(e,[n].concat(r)));case 11:n.$message({message:"密码错误",duration:2e3,type:"error"});case 12:n.changeNeedLogin(!1),a.next=16;break;case 15:return a.abrupt("return",e.call.apply(e,[n].concat(r)));case 16:case"end":return a.stop()}}),a)})))()},isLogin:function(){return!!sessionStorage.getItem("login")},handleKeyDown:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.handleLogin(n.writeFile,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},writeFile:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,p.a.post("/api/txt/write",{content:e.content,filename:e.name});case 2:a=n.sent,a.data.data.err?t.$message({message:a.data.data.msg,duration:2e3,type:"error"}):(t.applicationInit=!t.applicationInit,t.$message({message:a.data.data.msg,duration:2e3,type:"success"}));case 4:case"end":return n.stop()}}),n)})))()},changeNeedLogin:function(e){var t=this;if(this.needLogin=e,e)return new Promise((function(e){t.loginResolve=e}))},changeActiveWrapper:function(e){this.activeWrapper=e;var t=this.bottomIcons.indexOf(e);this.bottomActive=t},changeSmallWrapper:function(e,t){switch(e){case"delete":var n=this.bottomIcons.indexOf(t);this.bottomActive=n,n=this.smallWrapper.indexOf(t),-1!=n&&this.smallWrapper.splice(n,1),this.activeWrapper=t;break;case"add":if(-1===this.smallWrapper.indexOf(t)&&this.smallWrapper.push(t),this.bottomActive===this.bottomIcons.indexOf(t)){this.bottomActive=-1,this.activeWrapper="";for(var a=0;a<this.bottomIcons.length;a++)if(this.bottomIcons[a]!==t&&-1===this.smallWrapper.indexOf(this.bottomIcons[a])){this.activeWrapper=this.bottomIcons[a],this.bottomActive=a;break}}break}},changeBottomActive:function(e,t){t||(t=this.bottomIcons.indexOf(e)),-1===this.smallWrapper.indexOf(e)?this.activeWrapper===e?this.changeSmallWrapper("add",e):(this.activeWrapper=e,this.bottomActive=this.bottomIcons.indexOf(e)):this.changeSmallWrapper("delete",e)},clearApps:function(e){switch(e){case"chrome":this.apps=[];break;case"txt":this.txts=[]}this.clearInBottomIcons(e)},changeMax:function(e,t){this[t+"Max"]=e},clearInBottomIcons:function(e){var t=this.bottomIcons.indexOf(e);if(this.bottomIcons.splice(t,1),this.activeWrapper===e){this.bottomActive=-1,this.activeWrapper="";for(var n=0;n<this.bottomIcons.length;n++)if(this.bottomIcons[n]!==e&&-1===this.smallWrapper.indexOf(this.bottomIcons[n])){this.activeWrapper=this.bottomIcons[n],this.bottomActive=n;break}}else this.bottomActive>t&&this.bottomActive--},closePage:function(e,t){switch(t){case"txt":this.txts.splice(e,1);break;case"chrome":this.apps.splice(e,1);break}},rightCalendar:function(){this.showCalendar=!this.showCalendar},contentClick:function(){this.showCalendar&&(this.showCalendar=!1)},handleDragEnd:function(e){if(this.dragIconIndex){var t=1,n=1;while(e.clientX>=t*this.iconWidth+5)t++;while(e.clientY>=n*this.iconHeight+5)n++;if(this.dragIconIndex.x!==t-1||this.dragIconIndex.y!==n-1){var a=this.icons[t-1][n-1]&&""==this.icons[t-1][n-1].title;this.replaceIconIndex={x:t-1,y:n-1},this.replaceIconNum=this.replaceIconIndex.x*this.colLength+this.replaceIconIndex.y+1,this.dragIconNum=this.dragIconIndex.x*this.colLength+this.dragIconIndex.y+1;var i=this.home,r=0,s=!1;while(i.next&&r!=this.replaceIconNum-2){if(this.replaceIconNum-1==0){s=!0;break}i=i.next,r++}if(s||(this.prevReplaceNode=i,i=i.next),this.replaceNode=i,a){var o=this.home;while(o.next)o=o.next;this.prevReplaceNode=o}i=this.home,r=0,s=!1;while(i.next&&r!=this.dragIconNum-2){if(this.dragIconNum-1==0){s=!0;break}i=i.next,r++}s||(this.prevDragNode=i,i=i.next),this.dragNode=i,this.insertIcon(a)}else this.dragIconIndex=null}},insertIcon:function(e){if(this.dragNode!==this.replaceNode){var t=this.prevReplaceNode===this.dragNode;if(t)return this.prevDragNode?(this.prevDragNode.next=this.replaceNode,this.dragNode.next=this.replaceNode.next,this.replaceNode.next=this.dragNode):(this.home=this.replaceNode,this.dragNode.next=this.replaceNode.next,this.replaceNode.next=this.dragNode),this.initDrag(),void this.renderDataFromHomeList();if(this.prevDragNode)this.prevDragNode.next=this.dragNode.next;else{var n=this.home;this.home=n.next}this.prevReplaceNode?(this.prevReplaceNode.next=this.dragNode,this.dragNode.next=e?null:this.replaceNode):(this.dragNode.next=this.home,this.home=this.dragNode),this.initDrag(),this.renderDataFromHomeList()}},readHome:function(){var e=this.home;while(e.next)console.log(e.title),e=e.next;console.log(e.title)},initDrag:function(){this.dragIconIndex=null,this.replaceIconIndex=null,this.dragIconNum=0,this.replaceIconNum=0,this.replaceNode=null,this.dragNode=null,this.prevReplaceNode=null,this.prevDragNode=null},handleDragStart:function(e){if(0===this.apps.length&&0===this.txts.length){var t=1,n=1;while(e.clientX>=t*this.iconWidth+5)t++;while(e.clientY>=n*this.iconHeight+5)n++;""!=this.icons[t-1][n-1].title&&(this.dragIconIndex={x:t-1,y:n-1})}else this.$message({message:"存在窗口时禁止拖动图标",duration:2e3,type:"warning"})},renderDataFromHomeList:function(){for(var e=null,t=!1,n=0;n<this.wrapperLength;n++){0==n&&(e=this.home);for(var a=0;a<this.colLength;a++){if(this.icons[n][a].title=e.title,this.icons[n][a].img=e.img,this.icons[n][a].type=e.type,!e.next){t=!0;break}e=e.next}if(t)break}},init:function(){var e=40;this.colLength=Math.floor((this.$el.offsetHeight-e-10)/this.iconHeight),this.wrapperLength=Math.floor((this.$el.offsetWidth-10)/this.iconWidth);for(var t=0;t<this.wrapperLength;t++){for(var n=[],a=0;a<this.colLength;a++)n.push({title:"",img:"",active:!1,type:""});0!=t?this.icons.push(n):this.icons=[n]}},clickIcon:function(e){var t=this,n=!1,a=1,i=1;while(e.pageX>=a*this.iconWidth+5)a++;while(e.pageY>=i*this.iconHeight+5)i++;if(0!=this.preX&&(this.icons[this.preX-1][this.preY-1].active=!1),""!=this.icons[a-1][i-1].title)if(this.preX===a&&this.preY===i){var r=this.icons[a-1][i-1];this.doubleClick(r),n=!0,this.preX=0,this.preY=0}else this.icons[a-1][i-1].active=!0,this.preY=i,this.preX=a;else this.preX=0,this.preY=0;n||(this.doubleClickListen=setTimeout((function(){t.doubleClickListen=null}),500)),this.showRightMenu=!1},handleShow:function(e){this.activeWrapper=e;var t=this.bottomIcons.indexOf(e);-1===t?(this.bottomIcons.push(e),this.bottomActive=this.bottomIcons.length-1):(this.bottomActive=this.bottomIcons.indexOf(e),this.changeSmallWrapper("delete",e))},doubleClick:function(e){if(this.doubleClickListen){var t="",n="";if("txt"==e.type?(n="Txt",t="txts"):"chrome"===e.type&&(t="apps",n="App"),this[t].length>=11)return void this.$message({message:"同时最多开启11个窗口",type:"warning",duration:2e3});this.handleShow(e.type),this[t].push(e),this["active"+n]=!this["active"+n]}},reload:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,r,s,o,h,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.init(),a=function e(t,n,a,i){Object(c["a"])(this,e),this.title=t||"",this.img=n||"",this.next=a||null,this.type=i},i=new a,e.home=i,t.next=6,p.a.get("/api/icon/geticon");case 6:r=t.sent,200===r.status&&(e.iconsData=r.data.data),s=[{name:"chrome",img:n("91a6")},{name:"txt",img:n("04ee")}],o=0;case 10:if(!(o<e.iconsData.length)){t.next=28;break}if(i.title=e.iconsData[o].name,i.type=e.iconsData[o].type,h=s.filter((function(t){return t.name===e.iconsData[o].type})),!(h.length<=0)){t.next=18;break}throw new Error("缺少图片类型："+e.iconsData[o].type);case 18:i.img=h[0].img;case 19:if(o!==e.iconsData.length-1){t.next=22;break}return i.next=null,t.abrupt("break",28);case 22:l=new a,i.next=l,i=l;case 25:o++,t.next=10;break;case 28:e.renderDataFromHomeList();case 29:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.reload();case 2:case"end":return t.stop()}}),t)})))()}},ue=le,pe=(n("44de3"),Object(v["a"])(ue,s,o,!1,null,"36ea1eb2",null)),de=pe.exports,me={name:"App",components:{Home:de},mounted:function(){}},ge=me,fe=(n("034f"),Object(v["a"])(ge,i,r,!1,null,null,null)),ve=fe.exports,xe=n("5c96"),we=n.n(xe);n("0fae");a["default"].use(we.a),a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(ve)}}).$mount("#app")},5998:function(e,t,n){},6270:function(e,t,n){},"69b7":function(e,t,n){"use strict";var a=n("3237"),i=n.n(a);i.a},"85ec":function(e,t,n){},"91a6":function(e,t,n){e.exports=n.p+"img/Chrome.5d38b68d.png"},"9be3":function(e,t,n){},abd0:function(e,t,n){},bed8:function(e,t,n){"use strict";var a=n("cd32"),i=n.n(a);i.a},cd32:function(e,t,n){},cd5c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAW0lEQVQoU2NkIBEwQtULQOkPOPTD5ZE1TGBgYChgYGBA1wRSDJeDaQAZjCKBZDOKQcga0DWB+Bi2omuAaZoGtSEL3YkUa0D2B0EnkeRpbIphUYI1WEmOOKITCADHiR4N21x8mgAAAABJRU5ErkJggg=="},d736:function(e,t,n){"use strict";var a=n("2f01"),i=n.n(a);i.a},f54d:function(e,t,n){},fc84:function(e,t,n){"use strict";var a=n("9be3"),i=n.n(a);i.a}});
//# sourceMappingURL=app.16bc5ce8.js.map